# Licensed under The Unlicense
# Feel free to reuse, edit and redistribute this workflow as you wish, no credits needed
# See https://github.com/lowlighter/metrics for documentation about how to use metrics action

name: Metrics
on:
  # üåè Think about the planet! No need to update stats too frequently
  schedule: [{cron: "0 16 * * *"}]
  # üí° The following line lets you run workflow manually from the action tab!
  workflow_dispatch:
jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:

     - name: ü¶ë Media
       if: ${{ success() || failure() }}
       uses: lowlighter/metrics@latest
       with:
         filename: media.svg
         token: ${{ secrets.TOKEN }}
         base: ""          
         plugin_music: yes
         plugin_music_playlist: https://music.youtube.com/playlist?list=PL2HuRjA3PsMq4inD0I3raf2uz_ut2RrFc
         
     - name: ü¶ë Achievements
       if: ${{ success() || failure() }}
       uses: lowlighter/metrics@latest
       with:
         filename: achievements.svg
         token: ${{ secrets.TOKEN }}
         base: ""
         output_action: gist
         committer_gist: ${{ secrets.GIST }}
         plugin_achievements: yes
         plugin_achievements_display: compact
         plugin_fortune: yes

     - name: ü¶ë General
       if: ${{ success() || failure() }}
       uses: lowlighter/metrics@latest
       with:
         filename: general.svg
         token: ${{ secrets.TOKEN }}
         base: header
         base_indepth: yes
         config_order: base.header, isocalendar, languages, notable, discussions, topics
         output_action: gist
         committer_gist: ${{ secrets.GIST }}
         plugin_isocalendar: yes
         plugin_languages: yes          
         plugin_languages_details: lines, bytes-size, percentage
         plugin_languages_sections: most-used, recently-used
         plugin_languages_indepth: yes   
         plugin_topics: yes
         plugin_topics_limit: 0
         plugin_topics_mode: icons
         plugin_notable: yes
         plugin_discussions: yes
          
     - name: ü¶ë MBTI
       uses: lowlighter/metrics@latest
       with:
         filename: metrics.plugin.16personalities.svg
         token: ${{ secrets.TOKEN }}
         base: ""
         plugin_16personalities: yes
         plugin_16personalities_url: ${{ secrets.SIXTEEN_PERSONALITIES_URL }}
         plugin_16personalities_sections: personality, traits
         plugin_16personalities_scores: no
